<mvc:View
    controllerName="com.solvia.management.controller.Main"
    xmlns:mvc="sap.ui.core.mvc"
    displayBlock="true"
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:card="sap.f.cards"
    xmlns:chart="sap.suite.ui.microchart"
>
    <Page
        id="idPage"
        showHeader="false"
    >
        <content>
            <HBox height="100%">
                <mvc:View
                    viewName="com.solvia.management.view.Aside"
                    type="XML"
                />
                <VBox>
                    <HBox>
                        <f:Card
                            class="sapUiMediumMargin"
                            width="300px"
                        >
                            <f:header>
                                <card:Header
                                    title="Yeni Ürün"
                                    subtitle="Yeni bir ürün ekleyin"
                                    iconSrc="sap-icon://SAP-icons-TNT/block"
                                />
                            </f:header>
                            <f:content>
                                <VBox
                                    class="mainButton"
                                    height="100%"
                                    width="100%"
                                >
                                    <Button
                                        icon="sap-icon://SAP-icons-TNT/data-output-arrow"
                                        text="Git"
                                        press="onGitButtonProductPress"
                                    />
                                </VBox>
                            </f:content>
                        </f:Card>
                        <f:Card
                            class="sapUiMediumMargin"
                            width="300px"
                        >
                            <f:header>
                                <card:Header
                                    title="Yeni Çalışan"
                                    subtitle="Yeni bir çalışan ekleyin"
                                    iconSrc="sap-icon://employee"
                                />
                            </f:header>
                            <f:content>
                                <VBox
                                    class="mainButton"
                                    height="100%"
                                    width="100%"
                                >
                                    <Button
                                        icon="sap-icon://SAP-icons-TNT/data-output-arrow"
                                        text="Git"
                                        press="onGitButtonEmployeePress"
                                    />
                                </VBox>
                            </f:content>
                        </f:Card>
                    </HBox>
                    <HBox>
                        <f:Card
                            class="sapUiMediumMargin"
                            width="300px"
                            height="405px"
                        >
                            <f:header>
                                <card:Header
                                    title="Çalışanlarınız"
                                    subtitle="Güncel Çalışan Sayısı: {globalModel>/getEmployeesLength}"
                                />
                            </f:header>
                            <f:content>
                                <VBox>
                                    <List
                                        class="sapUiSmallMarginBottom"
                                        showSeparators="Inner"
                                        items="{ path: 'globalModel>/getEmployeesForMain' }"
                                    >
                                        <CustomListItem>
                                            <HBox
                                                alignItems="Center"
                                                justifyContent="SpaceBetween"
                                            >
                                                <VBox
                                                    class="sapUiSmallMarginBegin sapUiSmallMarginTopBottom"
                                                >
                                                    <HBox>
                                                        <Avatar
                                                            src="{= ${globalModel>Pimage} ? 'data:image/jpeg;base64,' + ${globalModel>Pimage} : ''}"
                                                            class="customMainAvatar"
                                                        />
                                                        <VBox
                                                            class="sapUiSmallMarginBegin"
                                                            alignItems="Center"
                                                            justifyContent="Center"
                                                        >
                                                            <Title
                                                                level="H3"
                                                                text="{globalModel>Name} {globalModel>Surname}"
                                                            />
                                                        </VBox>
                                                    </HBox>
                                                </VBox>
                                            </HBox>
                                        </CustomListItem>
                                    </List>
                                    <VBox
                                        class="mainButton"
                                        height="100%"
                                        width="100%"
                                    >
                                        <Button
                                            icon="sap-icon://SAP-icons-TNT/data-output-arrow"
                                            text="Daha Fazlasını Gör"
                                            press="onDahaFazlasnGrButtonPress"
                                        />
                                    </VBox>
                                </VBox>
                            </f:content>
                        </f:Card>
                        <f:Card
                            class="sapUiMediumMargin"
                            width="300px"
                        >
                            <f:header>
                                <card:Header
                                    title="Çalışan Cinsiyet Dağılımı"
                                />
                            </f:header>
                            <f:content>
                                <VBox>
                                    <GenericTile
                                        width="200%"
                                        header="Kadın Çalışan Oranı"
                                        subheader="Güncel Sayı: {globalModel>/employeeRatio/femaleCount}"
                                        frameType="Auto"
                                    >
                                        <tileContent>
                                            <TileContent>
                                                <content>
                                                    <chart:RadialMicroChart
                                                        percentage="{globalModel>/employeeRatio/femaleRatio}"
                                                        alignContent="Right"
                                                        valueColor="Critical"
                                                    />
                                                </content>
                                            </TileContent>
                                        </tileContent>
                                    </GenericTile>
                                    <GenericTile
                                        width="200%"
                                        header="Erkek Çalışan Oranı"
                                        subheader="Güncel Sayı: {globalModel>/employeeRatio/maleCount}"
                                        frameType="Auto"
                                    >
                                        <tileContent>
                                            <TileContent>
                                                <content>
                                                    <chart:RadialMicroChart
                                                        percentage="{globalModel>/employeeRatio/maleRatio}"
                                                        alignContent="Right"
                                                    />
                                                </content>
                                            </TileContent>
                                        </tileContent>
                                    </GenericTile>
                                </VBox>
                            </f:content>
                        </f:Card>
                    </HBox>
                    <HBox>
                        <f:Card
                            class="sapUiMediumMargin"
                            width="400px"
                            height="230px"
                        >
                            <f:header>
                                <card:Header title="Departman Dağılımı" />
                            </f:header>
                            <f:content>
                                <FlexBox
                                    width="40rem"
                                    height="10rem"
                                    alignItems="Start"
                                    justifyContent="SpaceBetween"
                                >
                                    <items>
                                        <chart:InteractiveDonutChart
                                            displayedSegments="6"
                                            selectionChanged="onInteractiveDonutChartSelectionChanged"
                                        >
                                            <chart:segments>
                                                <chart:InteractiveDonutChartSegment
                                                    label="Admin"
                                                    value="{globalModel>/employeeRatio/adminRatio}"
                                                    displayedValue="{globalModel>/employeeRatio/adminRatio}%"
                                                    color="Error"
                                                />
                                                <chart:InteractiveDonutChartSegment
                                                    label="Finans"
                                                    value="{globalModel>/employeeRatio/depoRatio}"
                                                    displayedValue="{globalModel>/employeeRatio/depoRatio}%"
                                                    color="Critical"
                                                />
                                                <chart:InteractiveDonutChartSegment
                                                    label="Bakım"
                                                    value="{globalModel>/employeeRatio/yoldaRatio}"
                                                    displayedValue="{globalModel>/employeeRatio/yoldaRatio}%"
                                                    color="Good"
                                                />
                                                <chart:InteractiveDonutChartSegment
                                                    label="Tedarik"
                                                    value="{globalModel>/employeeRatio/procurementRatio}"
                                                    displayedValue="{globalModel>/employeeRatio/procurementRatio}%"
                                                    color="Error"
                                                />

                                                <chart:InteractiveDonutChartSegment
                                                    label="Pazarlama"
                                                    value="{globalModel>/employeeRatio/marketingRatio}"
                                                    displayedValue="{globalModel>/employeeRatio/marketingRatio}%"
                                                    color="Critical"
                                                />

                                                <chart:InteractiveDonutChartSegment
                                                    label="Üretim"
                                                    value="{globalModel>/employeeRatio/productionRatio}"
                                                    displayedValue="{globalModel>/employeeRatio/productionRatio}%"
                                                    color="Good"
                                                />
                                            </chart:segments>
                                        </chart:InteractiveDonutChart>
                                    </items>
                                </FlexBox>
                            </f:content>
                        </f:Card>
                        <f:Card
                            class="sapUiMediumMargin"
                            width="400px"
                            height="230px"
                        >
                            <f:header>
                                <card:Header title="Ürünlerin Durum Dağılımı" />
                            </f:header>
                            <f:content>
                                <FlexBox
                                    width="40rem"
                                    height="10rem"
                                    alignItems="Center"
                                    justifyContent="SpaceBetween"
                                >
                                    <items>
                                        <chart:InteractiveDonutChart
                                            displayedSegments="6"
                                            selectionChanged="onInteractiveDonutChartSelectionChanged"
                                        >
                                            <chart:segments>
                                                <chart:InteractiveDonutChartSegment
                                                    label="Mağazada"
                                                    value="{globalModel>/productRatio/magazaRatio}"
                                                    displayedValue="{path: 'globalModel>/productRatio/magazaRatio', formatter: '.formatter.formatPrice'} %"
                                                    color="Error"
                                                />
                                                <chart:InteractiveDonutChartSegment
                                                    label="Depoda"
                                                    value="{globalModel>/productRatio/depoRatio}"
                                                    displayedValue="{path: 'globalModel>/productRatio/depoRatio', formatter: '.formatter.formatPrice'} %"
                                                    color="Critical"
                                                />
                                                <chart:InteractiveDonutChartSegment
                                                    label="Yolda"
                                                    value="{globalModel>/productRatio/yoldaRatio}"
                                                    displayedValue="{path: 'globalModel>/productRatio/yoldaRatio', formatter: '.formatter.formatPrice'} %"
                                                    color="Good"
                                                />
                                            </chart:segments>
                                        </chart:InteractiveDonutChart>
                                    </items>
                                </FlexBox>
                            </f:content>
                        </f:Card>
                    </HBox>
                </VBox>
            </HBox>
        </content>
    </Page>
</mvc:View>
